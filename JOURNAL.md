---
title: "VocaLink"
author: "Jayx2u"
description: "A Mouth Tracker for VR"
created_at: "2025-06-26"
---

# 2025-07-09 - More expressions!!!!!
I play VRChat... üóëÔ∏èüò±ü§Ø

I know I know, very crazy social platform but once you find the right friend group, it's a great way to socialise. I want to express myself more in VR. I've already got full body tracking ‚úÖ, but facial expression ‚ùå. Tracking the eye and face, lets see how other peeps have done it.

`SCR-20250709-tkvl`

Yeah no thank you üôÇ‚Äç‚ÜîÔ∏è. So it's time to DIY it! I decided that I won't be making an eye tracker and will just focus on the mouth tracking aspect. Why? Because eye trackers need IR LEDs and I would not like to [risk getting blindness](https://docs.eyetrackvr.dev/getting_started/led_safety). 

Some research led to [Babble](https://babble.diy/), a "Source First" mouth tracking solution. They provide the firmware and machine learning model whilst also providing a guide showing how to use a Xiao ESP32 Sense with an OV2640 and some IR LEDs... but that sounds too easy so I'm going to use a bare ESP32 chip and make it all on one PCB.

*Time Spent: 1 hour*

# 2025-07-10 - Schematic creation
Today is the day before I travel to Undercity so it's time to speedrun the schematic. I decided to go with the `ESP32-S3-WROOM-1U-N8R8` as the brains since it has in-built RAM and it uses an external attenna. The camera will be the `OV2640` as it is the one recommended by Babble. It has a high FOV and is an IR camera. The IR LEDs brightening up my mouth will be the `XL-3216HIRC-850`. They are unfocused 3.3V 850mn IR emitters. This in combination with 620ohm resistors should result it in having around 9% of the safe limit of IR exposure to the eyes. Even though they are not directly pointed to the eyes like eye trackers, they will be extremely close to my face so I would not like to take any risks. The connector will be USB-C obviously.

Let's talk about power management now. Very not fun... power go through USB-C port, supplying the standard 5V Vbus, which is then directed to the `AP2112K-3.3`, an LDO regulator which steps down the voltage from 5V to 3.3V. For the specific voltage requirements of 2.8V and 1.2V, I have another two LDOs, `TLV70228DBVR` for 2.8V and `TLV70212DBVR` for 1.2V. They each have an input and output capacitor to ensure voltage stability and filtering out noise.  

`SCR-20250710-hgvd`

Now some stuff for the microcontroller: The USB lines are connected to the ESP32's internal USB peripheral magical thingys. Then I have SW1 and SW2. One for `ENABLE (EN)`, acting as the reset button and then one for `BOOT`, for... you know... booting the device.

`SCR-20250710-hjmb`

Next is the camera and lighting. To connect the camera to the microcontroller, I added a 24-pin FPC connector. This connector breaks out all necessary signals: the 2.8V and 1.2V power rails generated by our LDOs, I2C communication lines (SCL and SDA) for camera configuration, and a parallel 8-bit data bus (D0-D7) for image data transfer. Clocking signals like PCLK, MCLK, HS, and VS are also routed from the ESP32 to this connector to synchronize data capture. To help the camera see and brighten up the area underneath the VR headset (which is where the camera will be located), two IR LEDs will be placed.

And with that, here is the schematic in all its glory:

`SCR-20250710-hnoe`

# 2025-07-16 - Post-Undercity depression